- 这就是“一次写入，多次配置”的原则。

McKeown：是的，我们在今年的SIGCOMM上发表了一篇论文，讲的是：为什么要做这个？为什么要为Open vSwitch做一个P4的前端编译器？

如今，如果你想改动Open vSwitch的行为，首先你得精通网络协议，其次你还得对内核很熟悉。这个世界上同时具备上述两项的人很少。当然Ben Pfaffs他这样做了，但是并没有多少人把网络协议与内核知识相结合：你必须得去接触多种多样的内核模型，上千行的内核代码，这是非常吓人的工程。

P4是一种浓缩体，在用P4进行开发的时候，你仅需了解网络协议的相关知识，并通过很短的代码 - 有可能是50多行或者几百行 - 一次性描述你想要的东西，并由编译器来操心剩下的事情。只要编译器正常工作，代码中对协议的描述是正确的，那么实现就应该是正确的。所以使用P4来进行开发能够大幅缩短往hypervisor交换机中添加新功能的时间。

甚至你也可以写一个P4程序来实现Middlebox的功能(比如说 四到七层的网络功能)，我认为随着时间的推移这种关键的事情早晚会发生。

我们不一定会把所有的Middlebox的功能都实现一遍，这是想在网络中仿真middlebox的、有强烈目的性的人要干的事情。“我花了好多钱买了一台Middlebox设备，但我只用了它百分之一的功能，哦，为什么我不写一个P4程序呢？”如果我自己有能力写一个P4程序，那么我不仅省了钱还省了管理Middlebox的时间。对于P4来说，这只是它的一部分[?]。

四层负载均衡(LB)无疑是一种Middlebox的功能，因为四层LB只是一种稍微聪明些的路由方式，虽然功能很简单但middlebox也实现了它，那么就得在数据平面做这个事情。如今有了Tofino之后，在无需额外开销的情况下就能很轻松的实现各种Middlebox功能，同时还保证了线速处理，从而淘汰掉了所有的Middlebox设备。

人们会认同其他我们没有加以考虑的内容，这很正常。和Intel不会考虑程序员们根据他们的CPU写的Java程序一样，我们不会考虑所有的情况。

- 那么你认为这几年ONF的角色是什么呢？它的任务是传播SDN，但是这个任务几乎已经完成了。那现在呢？ - ONF是否成为了一个软件组织呢？

McKeown：不见得会成为一个软件组织。

首先分辨控制平面和转发平面的意义是非常重要的。就像你所说，大家都已经很清楚SDN了，它已经不再是什么新闻了。

第二件事情是开发可用的开源软件以帮助人们入门。所以大家可以看到ONF越来越频繁地参与到开源的项目中，它能够弥补一些工作并将人们所做的不同的东西结合在一起 - 就像[CORD和ONOS](https://www.sdxcentral.com/articles/news/cord-onos-att/2015/06/)。怎么样才能使所有的组件一起工作呢？如何让事情变得更加简单，以至于如果我是一位网络工程师或者是一名操作员，坐在办公室里就能轻松下载并尝试这些组件？

这些事情一件都还没有发生，我们正在为之努力。目前就像处在Linux开始发展的头三年，这段时间对Linux来说并不完美。所以ONF仍然扮演一个指路人的角色，有无限的工作等着它去做。

- 突然间确实冒出了好多网络领域的开源软件啊。

McKeown：如果只考虑已经发布的开源软件的数量的话(是这样的) - 

- 这个是开源的缺点，(开源项目的)数量太多了 - 但你得到了你想要的东西！

McKeown：没错，但是如果你在十年前把开源和网络结合在一起，人们会说：“哈？这是啥？”

- 是的，五年前也是这样。

McKeown：现在 - 我维护了一个开源的网络项目的图谱，这个图谱的大小是不断增长的。先是Open vSwitch和其它的一些东西，接着在去年，我观察了所有的开源网络操作系统，[SONiC](https://www.sdxcentral.com/articles/news/microsofts-sonic-may-spell-disaster-switch-makers-not/2016/03/)、[FBoss](https://www.sdxcentral.com/articles/news/big-switch-facebook-ntt-to-demo-an-open-source-switch-os/2015/10/)以及HPE [OpenSwitch](https://www.sdxcentral.com/articles/news/hpes-openswitch-network-os-new-home-linux-foundation/2016/06/) - 这些项目都是从无到有的。

目前有一些工作得到了人们的关注，这是好事。当Linux受到重视的时候，有很多公司投入了大量的工程师做相关的工作。现在，有很多人关注和参与进ODL(The OpenDayLight Project)和ONOS项目中 - 这些项目被逐渐重视了起来。

现在这些项目都能一起跑吗？啊不，还不完美。不过现在人们往这个领域中投入了大量的金钱来实现这个目标。

这个工作很关键但不受待见。就像Linux，每个人都需要一个操作系统，但没人想自己开发。
